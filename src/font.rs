use font8x8::{legacy::BASIC_LEGACY,
    legacy::CONTROL_LEGACY,
    legacy::BLOCK_LEGACY,
    legacy::LATIN_LEGACY, FontUnicode, UnicodeFonts};
use core::fmt;

pub const UNICODE: [FontUnicode; 288] = [
    FontUnicode('\u{0000}', BASIC_LEGACY[0]),
    FontUnicode('\u{0001}', BASIC_LEGACY[1]),
    FontUnicode('\u{0002}', BASIC_LEGACY[2]),
    FontUnicode('\u{0003}', BASIC_LEGACY[3]),
    FontUnicode('\u{0004}', BASIC_LEGACY[4]),
    FontUnicode('\u{0005}', BASIC_LEGACY[5]),
    FontUnicode('\u{0006}', BASIC_LEGACY[6]),
    FontUnicode('\u{0007}', BASIC_LEGACY[7]),
    FontUnicode('\u{0008}', BASIC_LEGACY[8]),
    FontUnicode('\u{0009}', BASIC_LEGACY[9]),
    FontUnicode('\u{000A}', BASIC_LEGACY[10]),
    FontUnicode('\u{000B}', BASIC_LEGACY[11]),
    FontUnicode('\u{000C}', BASIC_LEGACY[12]),
    FontUnicode('\u{000D}', BASIC_LEGACY[13]),
    FontUnicode('\u{000E}', BASIC_LEGACY[14]),
    FontUnicode('\u{000F}', BASIC_LEGACY[15]),
    FontUnicode('\u{0010}', BASIC_LEGACY[16]),
    FontUnicode('\u{0011}', BASIC_LEGACY[17]),
    FontUnicode('\u{0012}', BASIC_LEGACY[18]),
    FontUnicode('\u{0013}', BASIC_LEGACY[19]),
    FontUnicode('\u{0014}', BASIC_LEGACY[20]),
    FontUnicode('\u{0015}', BASIC_LEGACY[21]),
    FontUnicode('\u{0016}', BASIC_LEGACY[22]),
    FontUnicode('\u{0017}', BASIC_LEGACY[23]),
    FontUnicode('\u{0018}', BASIC_LEGACY[24]),
    FontUnicode('\u{0019}', BASIC_LEGACY[25]),
    FontUnicode('\u{001A}', BASIC_LEGACY[26]),
    FontUnicode('\u{001B}', BASIC_LEGACY[27]),
    FontUnicode('\u{001C}', BASIC_LEGACY[28]),
    FontUnicode('\u{001D}', BASIC_LEGACY[29]),
    FontUnicode('\u{001E}', BASIC_LEGACY[30]),
    FontUnicode('\u{001F}', BASIC_LEGACY[31]),
    FontUnicode('\u{0020}', BASIC_LEGACY[32]),
    FontUnicode('\u{0021}', BASIC_LEGACY[33]),
    FontUnicode('\u{0022}', BASIC_LEGACY[34]),
    FontUnicode('\u{0023}', BASIC_LEGACY[35]),
    FontUnicode('\u{0024}', BASIC_LEGACY[36]),
    FontUnicode('\u{0025}', BASIC_LEGACY[37]),
    FontUnicode('\u{0026}', BASIC_LEGACY[38]),
    FontUnicode('\u{0027}', BASIC_LEGACY[39]),
    FontUnicode('\u{0028}', BASIC_LEGACY[40]),
    FontUnicode('\u{0029}', BASIC_LEGACY[41]),
    FontUnicode('\u{002A}', BASIC_LEGACY[42]),
    FontUnicode('\u{002B}', BASIC_LEGACY[43]),
    FontUnicode('\u{002C}', BASIC_LEGACY[44]),
    FontUnicode('\u{002D}', BASIC_LEGACY[45]),
    FontUnicode('\u{002E}', BASIC_LEGACY[46]),
    FontUnicode('\u{002F}', BASIC_LEGACY[47]),
    FontUnicode('\u{0030}', BASIC_LEGACY[48]),
    FontUnicode('\u{0031}', BASIC_LEGACY[49]),
    FontUnicode('\u{0032}', BASIC_LEGACY[50]),
    FontUnicode('\u{0033}', BASIC_LEGACY[51]),
    FontUnicode('\u{0034}', BASIC_LEGACY[52]),
    FontUnicode('\u{0035}', BASIC_LEGACY[53]),
    FontUnicode('\u{0036}', BASIC_LEGACY[54]),
    FontUnicode('\u{0037}', BASIC_LEGACY[55]),
    FontUnicode('\u{0038}', BASIC_LEGACY[56]),
    FontUnicode('\u{0039}', BASIC_LEGACY[57]),
    FontUnicode('\u{003A}', BASIC_LEGACY[58]),
    FontUnicode('\u{003B}', BASIC_LEGACY[59]),
    FontUnicode('\u{003C}', BASIC_LEGACY[60]),
    FontUnicode('\u{003D}', BASIC_LEGACY[61]),
    FontUnicode('\u{003E}', BASIC_LEGACY[62]),
    FontUnicode('\u{003F}', BASIC_LEGACY[63]),
    FontUnicode('\u{0040}', BASIC_LEGACY[64]),
    FontUnicode('\u{0041}', BASIC_LEGACY[65]),
    FontUnicode('\u{0042}', BASIC_LEGACY[66]),
    FontUnicode('\u{0043}', BASIC_LEGACY[67]),
    FontUnicode('\u{0044}', BASIC_LEGACY[68]),
    FontUnicode('\u{0045}', BASIC_LEGACY[69]),
    FontUnicode('\u{0046}', BASIC_LEGACY[70]),
    FontUnicode('\u{0047}', BASIC_LEGACY[71]),
    FontUnicode('\u{0048}', BASIC_LEGACY[72]),
    FontUnicode('\u{0049}', BASIC_LEGACY[73]),
    FontUnicode('\u{004A}', BASIC_LEGACY[74]),
    FontUnicode('\u{004B}', BASIC_LEGACY[75]),
    FontUnicode('\u{004C}', BASIC_LEGACY[76]),
    FontUnicode('\u{004D}', BASIC_LEGACY[77]),
    FontUnicode('\u{004E}', BASIC_LEGACY[78]),
    FontUnicode('\u{004F}', BASIC_LEGACY[79]),
    FontUnicode('\u{0050}', BASIC_LEGACY[80]),
    FontUnicode('\u{0051}', BASIC_LEGACY[81]),
    FontUnicode('\u{0052}', BASIC_LEGACY[82]),
    FontUnicode('\u{0053}', BASIC_LEGACY[83]),
    FontUnicode('\u{0054}', BASIC_LEGACY[84]),
    FontUnicode('\u{0055}', BASIC_LEGACY[85]),
    FontUnicode('\u{0056}', BASIC_LEGACY[86]),
    FontUnicode('\u{0057}', BASIC_LEGACY[87]),
    FontUnicode('\u{0058}', BASIC_LEGACY[88]),
    FontUnicode('\u{0059}', BASIC_LEGACY[89]),
    FontUnicode('\u{005A}', BASIC_LEGACY[90]),
    FontUnicode('\u{005B}', BASIC_LEGACY[91]),
    FontUnicode('\u{005C}', BASIC_LEGACY[92]),
    FontUnicode('\u{005D}', BASIC_LEGACY[93]),
    FontUnicode('\u{005E}', BASIC_LEGACY[94]),
    FontUnicode('\u{005F}', BASIC_LEGACY[95]),
    FontUnicode('\u{0060}', BASIC_LEGACY[96]),
    FontUnicode('\u{0061}', BASIC_LEGACY[97]),
    FontUnicode('\u{0062}', BASIC_LEGACY[98]),
    FontUnicode('\u{0063}', BASIC_LEGACY[99]),
    FontUnicode('\u{0064}', BASIC_LEGACY[100]),
    FontUnicode('\u{0065}', BASIC_LEGACY[101]),
    FontUnicode('\u{0066}', BASIC_LEGACY[102]),
    FontUnicode('\u{0067}', BASIC_LEGACY[103]),
    FontUnicode('\u{0068}', BASIC_LEGACY[104]),
    FontUnicode('\u{0069}', BASIC_LEGACY[105]),
    FontUnicode('\u{006A}', BASIC_LEGACY[106]),
    FontUnicode('\u{006B}', BASIC_LEGACY[107]),
    FontUnicode('\u{006C}', BASIC_LEGACY[108]),
    FontUnicode('\u{006D}', BASIC_LEGACY[109]),
    FontUnicode('\u{006E}', BASIC_LEGACY[110]),
    FontUnicode('\u{006F}', BASIC_LEGACY[111]),
    FontUnicode('\u{0070}', BASIC_LEGACY[112]),
    FontUnicode('\u{0071}', BASIC_LEGACY[113]),
    FontUnicode('\u{0072}', BASIC_LEGACY[114]),
    FontUnicode('\u{0073}', BASIC_LEGACY[115]),
    FontUnicode('\u{0074}', BASIC_LEGACY[116]),
    FontUnicode('\u{0075}', BASIC_LEGACY[117]),
    FontUnicode('\u{0076}', BASIC_LEGACY[118]),
    FontUnicode('\u{0077}', BASIC_LEGACY[119]),
    FontUnicode('\u{0078}', BASIC_LEGACY[120]),
    FontUnicode('\u{0079}', BASIC_LEGACY[121]),
    FontUnicode('\u{007A}', BASIC_LEGACY[122]),
    FontUnicode('\u{007B}', BASIC_LEGACY[123]),
    FontUnicode('\u{007C}', BASIC_LEGACY[124]),
    FontUnicode('\u{007D}', BASIC_LEGACY[125]),
    FontUnicode('\u{007E}', BASIC_LEGACY[126]),
    FontUnicode('\u{007F}', BASIC_LEGACY[127]),
    FontUnicode('\u{0080}', CONTROL_LEGACY[0]),
    FontUnicode('\u{0081}', CONTROL_LEGACY[1]),
    FontUnicode('\u{0082}', CONTROL_LEGACY[2]),
    FontUnicode('\u{0083}', CONTROL_LEGACY[3]),
    FontUnicode('\u{0084}', CONTROL_LEGACY[4]),
    FontUnicode('\u{0085}', CONTROL_LEGACY[5]),
    FontUnicode('\u{0086}', CONTROL_LEGACY[6]),
    FontUnicode('\u{0087}', CONTROL_LEGACY[7]),
    FontUnicode('\u{0088}', CONTROL_LEGACY[8]),
    FontUnicode('\u{0089}', CONTROL_LEGACY[9]),
    FontUnicode('\u{008A}', CONTROL_LEGACY[10]),
    FontUnicode('\u{008B}', CONTROL_LEGACY[11]),
    FontUnicode('\u{008C}', CONTROL_LEGACY[12]),
    FontUnicode('\u{008D}', CONTROL_LEGACY[13]),
    FontUnicode('\u{008E}', CONTROL_LEGACY[14]),
    FontUnicode('\u{008F}', CONTROL_LEGACY[15]),
    FontUnicode('\u{0090}', CONTROL_LEGACY[16]),
    FontUnicode('\u{0091}', CONTROL_LEGACY[17]),
    FontUnicode('\u{0092}', CONTROL_LEGACY[18]),
    FontUnicode('\u{0093}', CONTROL_LEGACY[19]),
    FontUnicode('\u{0094}', CONTROL_LEGACY[20]),
    FontUnicode('\u{0095}', CONTROL_LEGACY[21]),
    FontUnicode('\u{0096}', CONTROL_LEGACY[22]),
    FontUnicode('\u{0097}', CONTROL_LEGACY[23]),
    FontUnicode('\u{0098}', CONTROL_LEGACY[24]),
    FontUnicode('\u{0099}', CONTROL_LEGACY[25]),
    FontUnicode('\u{009A}', CONTROL_LEGACY[26]),
    FontUnicode('\u{009B}', CONTROL_LEGACY[27]),
    FontUnicode('\u{009C}', CONTROL_LEGACY[28]),
    FontUnicode('\u{009D}', CONTROL_LEGACY[29]),
    FontUnicode('\u{009E}', CONTROL_LEGACY[30]),
    FontUnicode('\u{009F}', CONTROL_LEGACY[31]),
    FontUnicode('\u{00A0}', LATIN_LEGACY[0]),
    FontUnicode('\u{00A1}', LATIN_LEGACY[1]),
    FontUnicode('\u{00A2}', LATIN_LEGACY[2]),
    FontUnicode('\u{00A3}', LATIN_LEGACY[3]),
    FontUnicode('\u{00A4}', LATIN_LEGACY[4]),
    FontUnicode('\u{00A5}', LATIN_LEGACY[5]),
    FontUnicode('\u{00A6}', LATIN_LEGACY[6]),
    FontUnicode('\u{00A7}', LATIN_LEGACY[7]),
    FontUnicode('\u{00A8}', LATIN_LEGACY[8]),
    FontUnicode('\u{00A9}', LATIN_LEGACY[9]),
    FontUnicode('\u{00AA}', LATIN_LEGACY[10]),
    FontUnicode('\u{00AB}', LATIN_LEGACY[11]),
    FontUnicode('\u{00AC}', LATIN_LEGACY[12]),
    FontUnicode('\u{00AD}', LATIN_LEGACY[13]),
    FontUnicode('\u{00AE}', LATIN_LEGACY[14]),
    FontUnicode('\u{00AF}', LATIN_LEGACY[15]),
    FontUnicode('\u{00B0}', LATIN_LEGACY[16]),
    FontUnicode('\u{00B1}', LATIN_LEGACY[17]),
    FontUnicode('\u{00B2}', LATIN_LEGACY[18]),
    FontUnicode('\u{00B3}', LATIN_LEGACY[19]),
    FontUnicode('\u{00B4}', LATIN_LEGACY[20]),
    FontUnicode('\u{00B5}', LATIN_LEGACY[21]),
    FontUnicode('\u{00B6}', LATIN_LEGACY[22]),
    FontUnicode('\u{00B7}', LATIN_LEGACY[23]),
    FontUnicode('\u{00B8}', LATIN_LEGACY[24]),
    FontUnicode('\u{00B9}', LATIN_LEGACY[25]),
    FontUnicode('\u{00BA}', LATIN_LEGACY[26]),
    FontUnicode('\u{00BB}', LATIN_LEGACY[27]),
    FontUnicode('\u{00BC}', LATIN_LEGACY[28]),
    FontUnicode('\u{00BD}', LATIN_LEGACY[29]),
    FontUnicode('\u{00BE}', LATIN_LEGACY[30]),
    FontUnicode('\u{00BF}', LATIN_LEGACY[31]),
    FontUnicode('\u{00C0}', LATIN_LEGACY[32]),
    FontUnicode('\u{00C1}', LATIN_LEGACY[33]),
    FontUnicode('\u{00C2}', LATIN_LEGACY[34]),
    FontUnicode('\u{00C3}', LATIN_LEGACY[35]),
    FontUnicode('\u{00C4}', LATIN_LEGACY[36]),
    FontUnicode('\u{00C5}', LATIN_LEGACY[37]),
    FontUnicode('\u{00C6}', LATIN_LEGACY[38]),
    FontUnicode('\u{00C7}', LATIN_LEGACY[39]),
    FontUnicode('\u{00C8}', LATIN_LEGACY[40]),
    FontUnicode('\u{00C9}', LATIN_LEGACY[41]),
    FontUnicode('\u{00CA}', LATIN_LEGACY[42]),
    FontUnicode('\u{00CB}', LATIN_LEGACY[43]),
    FontUnicode('\u{00CC}', LATIN_LEGACY[44]),
    FontUnicode('\u{00CD}', LATIN_LEGACY[45]),
    FontUnicode('\u{00CE}', LATIN_LEGACY[46]),
    FontUnicode('\u{00CF}', LATIN_LEGACY[47]),
    FontUnicode('\u{00D0}', LATIN_LEGACY[48]),
    FontUnicode('\u{00D1}', LATIN_LEGACY[49]),
    FontUnicode('\u{00D2}', LATIN_LEGACY[50]),
    FontUnicode('\u{00D3}', LATIN_LEGACY[51]),
    FontUnicode('\u{00D4}', LATIN_LEGACY[52]),
    FontUnicode('\u{00D5}', LATIN_LEGACY[53]),
    FontUnicode('\u{00D6}', LATIN_LEGACY[54]),
    FontUnicode('\u{00D7}', LATIN_LEGACY[55]),
    FontUnicode('\u{00D8}', LATIN_LEGACY[56]),
    FontUnicode('\u{00D9}', LATIN_LEGACY[57]),
    FontUnicode('\u{00DA}', LATIN_LEGACY[58]),
    FontUnicode('\u{00DB}', LATIN_LEGACY[59]),
    FontUnicode('\u{00DC}', LATIN_LEGACY[60]),
    FontUnicode('\u{00DD}', LATIN_LEGACY[61]),
    FontUnicode('\u{00DE}', LATIN_LEGACY[62]),
    FontUnicode('\u{00DF}', LATIN_LEGACY[63]),
    FontUnicode('\u{00E0}', LATIN_LEGACY[64]),
    FontUnicode('\u{00E1}', LATIN_LEGACY[65]),
    FontUnicode('\u{00E2}', LATIN_LEGACY[66]),
    FontUnicode('\u{00E3}', LATIN_LEGACY[67]),
    FontUnicode('\u{00E4}', LATIN_LEGACY[68]),
    FontUnicode('\u{00E5}', LATIN_LEGACY[69]),
    FontUnicode('\u{00E6}', LATIN_LEGACY[70]),
    FontUnicode('\u{00E7}', LATIN_LEGACY[71]),
    FontUnicode('\u{00E8}', LATIN_LEGACY[72]),
    FontUnicode('\u{00E9}', LATIN_LEGACY[73]),
    FontUnicode('\u{00EA}', LATIN_LEGACY[74]),
    FontUnicode('\u{00EB}', LATIN_LEGACY[75]),
    FontUnicode('\u{00EC}', LATIN_LEGACY[76]),
    FontUnicode('\u{00ED}', LATIN_LEGACY[77]),
    FontUnicode('\u{00EE}', LATIN_LEGACY[78]),
    FontUnicode('\u{00EF}', LATIN_LEGACY[79]),
    FontUnicode('\u{00F0}', LATIN_LEGACY[80]),
    FontUnicode('\u{00F1}', LATIN_LEGACY[81]),
    FontUnicode('\u{00F2}', LATIN_LEGACY[82]),
    FontUnicode('\u{00F3}', LATIN_LEGACY[83]),
    FontUnicode('\u{00F4}', LATIN_LEGACY[84]),
    FontUnicode('\u{00F5}', LATIN_LEGACY[85]),
    FontUnicode('\u{00F6}', LATIN_LEGACY[86]),
    FontUnicode('\u{00F7}', LATIN_LEGACY[87]),
    FontUnicode('\u{00F8}', LATIN_LEGACY[88]),
    FontUnicode('\u{00F9}', LATIN_LEGACY[89]),
    FontUnicode('\u{00FA}', LATIN_LEGACY[90]),
    FontUnicode('\u{00FB}', LATIN_LEGACY[91]),
    FontUnicode('\u{00FC}', LATIN_LEGACY[92]),
    FontUnicode('\u{00FD}', LATIN_LEGACY[93]),
    FontUnicode('\u{00FE}', LATIN_LEGACY[94]),
    FontUnicode('\u{00FF}', LATIN_LEGACY[95]),
    FontUnicode('\u{2580}', BLOCK_LEGACY[0]),
    FontUnicode('\u{2581}', BLOCK_LEGACY[1]),
    FontUnicode('\u{2582}', BLOCK_LEGACY[2]),
    FontUnicode('\u{2583}', BLOCK_LEGACY[3]),
    FontUnicode('\u{2584}', BLOCK_LEGACY[4]),
    FontUnicode('\u{2585}', BLOCK_LEGACY[5]),
    FontUnicode('\u{2586}', BLOCK_LEGACY[6]),
    FontUnicode('\u{2587}', BLOCK_LEGACY[7]),
    FontUnicode('\u{2588}', BLOCK_LEGACY[8]),
    FontUnicode('\u{2589}', BLOCK_LEGACY[9]),
    FontUnicode('\u{258A}', BLOCK_LEGACY[10]),
    FontUnicode('\u{258B}', BLOCK_LEGACY[11]),
    FontUnicode('\u{258C}', BLOCK_LEGACY[12]),
    FontUnicode('\u{258D}', BLOCK_LEGACY[13]),
    FontUnicode('\u{258E}', BLOCK_LEGACY[14]),
    FontUnicode('\u{258F}', BLOCK_LEGACY[15]),
    FontUnicode('\u{2590}', BLOCK_LEGACY[16]),
    FontUnicode('\u{2591}', BLOCK_LEGACY[17]),
    FontUnicode('\u{2592}', BLOCK_LEGACY[18]),
    FontUnicode('\u{2593}', BLOCK_LEGACY[19]),
    FontUnicode('\u{2594}', BLOCK_LEGACY[20]),
    FontUnicode('\u{2595}', BLOCK_LEGACY[21]),
    FontUnicode('\u{2596}', BLOCK_LEGACY[22]),
    FontUnicode('\u{2597}', BLOCK_LEGACY[23]),
    FontUnicode('\u{2598}', BLOCK_LEGACY[24]),
    FontUnicode('\u{2599}', BLOCK_LEGACY[25]),
    FontUnicode('\u{259A}', BLOCK_LEGACY[26]),
    FontUnicode('\u{259B}', BLOCK_LEGACY[27]),
    FontUnicode('\u{259C}', BLOCK_LEGACY[28]),
    FontUnicode('\u{259D}', BLOCK_LEGACY[29]),
    FontUnicode('\u{259E}', BLOCK_LEGACY[30]),
    FontUnicode('\u{259F}', BLOCK_LEGACY[31]),
];

pub const FONTS: BasicFonts = BasicFonts(UNICODE);
pub struct BasicFonts([FontUnicode; 288]);

impl fmt::Debug for BasicFonts {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        write!(f, stringify!(UNICODE))
    }
}

impl PartialEq for BasicFonts {
    fn eq(&self, other: &BasicFonts) -> bool {
        self.0
            .iter()
            .zip(other.0.iter())
            .fold(true, |eq, (a, b)| eq && a == b)
    }
}

impl BasicFonts {
    pub fn new() -> Self {
        BasicFonts(UNICODE)
    }
}

impl Default for BasicFonts {
    fn default() -> Self {
        BasicFonts::new()
    }
}

impl UnicodeFonts for BasicFonts {
    fn get(&self, key: char) -> Option<[u8; 8]> {
        match self.get_font(key) {
            Some(font) => Some(font.into()),
            None => None,
        }
    }

    fn get_font(&self, key: char) -> Option<FontUnicode> {
        match self.0.binary_search_by_key(&key, |&f| f.char()) {
            Ok(idx) => Some(self.0[idx]),
            _ => None,
        }
    }

    fn iter(&self) -> ::core::slice::Iter<FontUnicode> {
        self.0.iter()
    }
}